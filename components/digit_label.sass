// 座標
//
// TDタグの前後で表記を入れている
//
// |--------+--------|
// | 指定   | 用途   |
// |--------+--------|
// | before | 横軸用 |
// | after  | 縦軸用 |
// |--------+--------|
//

@import "digit_label_variant"

.ShogiPlayerGround
  +defvar(sp_digit_label_size, 0.1)                 // 座標表記の文字サイズ
  +defvar(sp_digit_label_push, 0.03)                // 座標表記の位置調整(%)
  +defvar(sp_digit_label_color, hsla(0,0%,0%,0.75)) // 座標表記の文字色

  --sp_digit_label_push_real_value: calc((1.0 + var(--sp_digit_label_push)) * 100%)

  &.is_digit_label_on
    .BoardField
      // 共通のサイズ・色
      td:before, td:after
        line-height: 100%    // フォントの上の隙間を取る
        font-size: calc(var(--sp_base_h) * var(--sp_digit_label_size))
        color:     var(--sp_digit_label_color)
        z-index: 0  // -1 だと盤の裏にいってしまう

      // 横軸表記の位置調整
      td:before
        display: flex

        height: 1rem            // 1文字分の高さにした上で
        align-items: center     // 中央に合わせると拡縮の基点が中央になる

        width: 100%             // height: 100% は入れてはいけない(入れると重なって押せない要素が出てくる)
        justify-content: center // 左右中央に合わせる

        // 下から100%押して上外に飛び出す
        bottom: var(--sp_digit_label_push_real_value)

      // 縦軸表記の位置調整
      td:after
        display: flex

        height: 100%                // width: 100% は入れてはいけない(入れると先後のマークが押せなくなる)
        align-items: center         // 上下中央に合わせる

        width: 1rem                 // fやiがの文字が左寄りになるのを防ぐため1文字分の幅を確保する(超重要)
        justify-content: center     // 共通の1rem幅の中で中央配置すれば f や i が中央に寄る

        // TDの左上基点を同じにする
        top: 0                      // これがないと1セル分に下に移動する

        // 左から100%押し出して右外に飛び出す
        left: var(--sp_digit_label_push_real_value)

      // 以降はそのままで良い

      td
        position: relative
      td:before, td:after
        position: absolute

  &.is_digit_label_on
    // 横は1種類
    +is_digit_label_variant_h_number
    // 縦は3種類
    &.is_digit_label_variant_v_kanji
      +is_digit_label_variant_v_kanji
    &.is_digit_label_variant_v_alphabet
      +is_digit_label_variant_v_alphabet
    &.is_digit_label_variant_v_number
      +is_digit_label_variant_v_number

  &.is_layer_on
    &.is_digit_label_on
      td:before, td:after
        +is_layer_border
